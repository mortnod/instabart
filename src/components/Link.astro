---
const { slot, className, ...rest } = Astro.props;
---

<a
  class={`outbound-link font-bold hover:underline outline-none rounded-sm focus-visible:ring-4 ring-offset-1 dark:ring-offset-black ring-[#60a5fa] ${className}`}
  {...rest}><slot /></a
>

<script>
  const configureLinkBehaviour = () => {
    const isPwa = window.matchMedia('(display-mode: standalone)').matches;

    if (isPwa) {
      const outboundLinks = document.querySelectorAll('.outbound-link');
      outboundLinks.forEach((link) => {
        link.setAttribute('target', '_blank');
      });
    }
  };

  configureLinkBehaviour();
</script>
